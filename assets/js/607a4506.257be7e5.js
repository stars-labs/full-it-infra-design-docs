"use strict";(globalThis.webpackChunkfull_it_infra_design_docs=globalThis.webpackChunkfull_it_infra_design_docs||[]).push([[3490],{6277(e,s,i){i.r(s),i.d(s,{assets:()=>r,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"hardware/nas-selection/configuration","title":"\u7cfb\u7edf\u90e8\u7f72\u4e0e\u914d\u7f6e","description":"ZFS \u914d\u7f6e\u5efa\u8bae","source":"@site/docs/02-hardware/nas-selection/configuration.md","sourceDirName":"02-hardware/nas-selection","slug":"/hardware/nas-selection/configuration","permalink":"/full-it-infra-design-docs/docs/hardware/nas-selection/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-hardware/nas-selection/configuration.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"\u6269\u5c55\u914d\u4ef6\u4e0e\u786c\u76d8","permalink":"/full-it-infra-design-docs/docs/hardware/nas-selection/components"},"next":{"title":"\u673a\u623f\u57fa\u7840\u8bbe\u65bd\u8bbe\u8ba1","permalink":"/full-it-infra-design-docs/docs/hardware/datacenter-infra"}}');var t=i(4848),d=i(8453);const l={sidebar_position:5},c="\u7cfb\u7edf\u90e8\u7f72\u4e0e\u914d\u7f6e",r={},h=[{value:"ZFS \u914d\u7f6e\u5efa\u8bae",id:"zfs-\u914d\u7f6e\u5efa\u8bae",level:2},{value:"RAID-Z \u65b9\u6848",id:"raid-z-\u65b9\u6848",level:3},{value:"MinIO \u90e8\u7f72\u914d\u7f6e",id:"minio-\u90e8\u7f72\u914d\u7f6e",level:2},{value:"\u786c\u76d8\u914d\u7f6e\u5efa\u8bae",id:"\u786c\u76d8\u914d\u7f6e\u5efa\u8bae",level:3},{value:"\u7f51\u7edc\u914d\u7f6e",id:"\u7f51\u7edc\u914d\u7f6e",level:3},{value:"\u7cfb\u7edf\u914d\u7f6e\u4f18\u5316",id:"\u7cfb\u7edf\u914d\u7f6e\u4f18\u5316",level:3},{value:"\u9a8c\u6536\u6d4b\u8bd5",id:"\u9a8c\u6536\u6d4b\u8bd5",level:2},{value:"\u786c\u4ef6\u68c0\u6d4b",id:"\u786c\u4ef6\u68c0\u6d4b",level:3},{value:"MinIO \u6d4b\u8bd5",id:"minio-\u6d4b\u8bd5",level:3},{value:"\u6027\u80fd\u57fa\u51c6",id:"\u6027\u80fd\u57fa\u51c6",level:3}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"\u7cfb\u7edf\u90e8\u7f72\u4e0e\u914d\u7f6e",children:"\u7cfb\u7edf\u90e8\u7f72\u4e0e\u914d\u7f6e"})}),"\n",(0,t.jsx)(s.h2,{id:"zfs-\u914d\u7f6e\u5efa\u8bae",children:"ZFS \u914d\u7f6e\u5efa\u8bae"}),"\n",(0,t.jsx)(s.h3,{id:"raid-z-\u65b9\u6848",children:"RAID-Z \u65b9\u6848"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"\u76d8\u4f4d"}),(0,t.jsx)(s.th,{children:"\u63a8\u8350\u65b9\u6848"}),(0,t.jsx)(s.th,{children:"\u53ef\u7528\u5bb9\u91cf"}),(0,t.jsx)(s.th,{children:"\u5bb9\u9519"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"5\u76d8"}),(0,t.jsx)(s.td,{children:"RAID-Z1 (4+1)"}),(0,t.jsx)(s.td,{children:"80%"}),(0,t.jsx)(s.td,{children:"1\u76d8"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"6\u76d8"}),(0,t.jsx)(s.td,{children:"RAID-Z2 (4+2)"}),(0,t.jsx)(s.td,{children:"67%"}),(0,t.jsx)(s.td,{children:"2\u76d8"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"8\u76d8"}),(0,t.jsx)(s.td,{children:"RAID-Z2 (6+2)"}),(0,t.jsx)(s.td,{children:"75%"}),(0,t.jsx)(s.td,{children:"2\u76d8"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"10\u76d8"}),(0,t.jsx)(s.td,{children:"2\xd7 RAID-Z1 (4+1)"}),(0,t.jsx)(s.td,{children:"80%"}),(0,t.jsx)(s.td,{children:"\u6bcf\u7ec41\u76d8"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"minio-\u90e8\u7f72\u914d\u7f6e",children:"MinIO \u90e8\u7f72\u914d\u7f6e"}),"\n",(0,t.jsx)(s.h3,{id:"\u786c\u76d8\u914d\u7f6e\u5efa\u8bae",children:"\u786c\u76d8\u914d\u7f6e\u5efa\u8bae"}),"\n",(0,t.jsx)(s.p,{children:"MinIO \u63a8\u8350\u4f7f\u7528\u72ec\u7acb\u786c\u76d8\uff0c\u4e0d\u4f7f\u7528 RAID\uff1a"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"\u8282\u70b9\u6570"}),(0,t.jsx)(s.th,{children:"\u6bcf\u8282\u70b9\u786c\u76d8\u6570"}),(0,t.jsx)(s.th,{children:"\u603b\u786c\u76d8\u6570"}),(0,t.jsx)(s.th,{children:"\u6700\u5c0f\u5bb9\u91cf"}),(0,t.jsx)(s.th,{children:"\u63a8\u8350\u914d\u7f6e"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"4\u8282\u70b9"}),(0,t.jsx)(s.td,{children:"6\u76d8"}),(0,t.jsx)(s.td,{children:"24\u76d8"}),(0,t.jsx)(s.td,{children:"4TB\xd724=96TB"}),(0,t.jsx)(s.td,{children:"\u65b9\u6848A"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"8\u8282\u70b9"}),(0,t.jsx)(s.td,{children:"8\u76d8"}),(0,t.jsx)(s.td,{children:"64\u76d8"}),(0,t.jsx)(s.td,{children:"8TB\xd764=512TB"}),(0,t.jsx)(s.td,{children:"\u65b9\u6848B"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"16\u8282\u70b9"}),(0,t.jsx)(s.td,{children:"8\u76d8"}),(0,t.jsx)(s.td,{children:"128\u76d8"}),(0,t.jsx)(s.td,{children:"8TB\xd7128=1PB"}),(0,t.jsx)(s.td,{children:"\u65b9\u6848C"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"\u7f51\u7edc\u914d\u7f6e",children:"\u7f51\u7edc\u914d\u7f6e"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"\u573a\u666f"}),(0,t.jsx)(s.th,{children:"\u7f51\u53e3\u914d\u7f6e"}),(0,t.jsx)(s.th,{children:"\u5e26\u5bbd"}),(0,t.jsx)(s.th,{children:"\u63a8\u8350\u65b9\u6848"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"\u5165\u95e8\u7ea7"}),(0,t.jsx)(s.td,{children:"4\xd72.5GbE"}),(0,t.jsx)(s.td,{children:"10Gbps"}),(0,t.jsx)(s.td,{children:"N305\u4e3b\u677f"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"\u6807\u51c6\u7ea7"}),(0,t.jsx)(s.td,{children:"1\xd710GbE + 2\xd72.5GbE"}),(0,t.jsx)(s.td,{children:"15Gbps"}),(0,t.jsx)(s.td,{children:"N355\u4e3b\u677f"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"\u4f01\u4e1a\u7ea7"}),(0,t.jsx)(s.td,{children:"2\xd710GbE + 2\xd72.5GbE"}),(0,t.jsx)(s.td,{children:"25Gbps"}),(0,t.jsx)(s.td,{children:"N355+\u4e07\u5146\u4ea4\u6362\u673a"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"\u7cfb\u7edf\u914d\u7f6e\u4f18\u5316",children:"\u7cfb\u7edf\u914d\u7f6e\u4f18\u5316"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'# MinIO \u63a8\u8350\u7cfb\u7edf\u914d\u7f6e\n# 1. \u7981\u7528 swap\nswapoff -a\n\n# 2. \u8bbe\u7f6e\u6587\u4ef6\u63cf\u8ff0\u7b26\necho "* soft nofile 65536" >> /etc/security/limits.conf\necho "* hard nofile 65536" >> /etc/security/limits.conf\n\n# 3. \u4f18\u5316\u7f51\u7edc\u53c2\u6570\necho "net.core.rmem_max = 134217728" >> /etc/sysctl.conf\necho "net.core.wmem_max = 134217728" >> /etc/sysctl.conf\necho "net.ipv4.tcp_rmem = 4096 87380 134217728" >> /etc/sysctl.conf\necho "net.ipv4.tcp_wmem = 4096 65536 134217728" >> /etc/sysctl.conf\n'})}),"\n",(0,t.jsx)(s.h2,{id:"\u9a8c\u6536\u6d4b\u8bd5",children:"\u9a8c\u6536\u6d4b\u8bd5"}),"\n",(0,t.jsx)(s.h3,{id:"\u786c\u4ef6\u68c0\u6d4b",children:"\u786c\u4ef6\u68c0\u6d4b"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","CPU \u6e29\u5ea6\u6b63\u5e38\uff08\u5c0f\u4e8e70\xb0C\uff09"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u5185\u5b58\u8bc6\u522b\u5b8c\u6574"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u6240\u6709 SATA \u63a5\u53e3\u8bc6\u522b"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u7f51\u53e3 Link \u72b6\u6001\u6b63\u5e38"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u70ed\u63d2\u62d4\u529f\u80fd\u6d4b\u8bd5"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"minio-\u6d4b\u8bd5",children:"MinIO \u6d4b\u8bd5"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","MinIO \u96c6\u7fa4\u90e8\u7f72\u6210\u529f"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u6240\u6709\u8282\u70b9\u5065\u5eb7\u72b6\u6001"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u8bfb\u5199\u6027\u80fd\u6d4b\u8bd5\u901a\u8fc7"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u6545\u969c\u8f6c\u79fb\u6d4b\u8bd5\u6b63\u5e38"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u6570\u636e\u4e00\u81f4\u6027\u9a8c\u8bc1"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"\u6027\u80fd\u57fa\u51c6",children:"\u6027\u80fd\u57fa\u51c6"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u5355\u8282\u70b9\u541e\u5410\u91cf\u5927\u4e8e 200MB/s"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","\u96c6\u7fa4\u603b\u5e26\u5bbd\u63a5\u8fd1\u7f51\u53e3\u5e26\u5bbd"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","SMART \u72b6\u6001\u5065\u5eb7"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","7\xd724\u5c0f\u65f6\u538b\u529b\u6d4b\u8bd5\u901a\u8fc7"]}),"\n"]})]})}function x(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453(e,s,i){i.d(s,{R:()=>l,x:()=>c});var n=i(6540);const t={},d=n.createContext(t);function l(e){const s=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(d.Provider,{value:s},e.children)}}}]);